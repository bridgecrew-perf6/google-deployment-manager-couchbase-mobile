imports:
  - path: deployment.py
  - path: cluster.py
  - path: group.py
  - path: naming.py
  - path: startupCommon.sh
  - path: syncGateway.sh
  - path: server.sh
  - path: successNotification.sh

resources:
- name: deployment
  type: deployment.py
  properties:
    serverVersion: 5.0.0
    syncGatewayVersion: 1.5.0
    couchbaseUsername: couchbase
    couchbasePassword: foo123!
    license: byol
    clusters:
      - cluster: cluster1
        region: us-east1
        groups:
          - group: group1
            diskSize: 100
            nodeCount: 5
            nodeType: n1-standard-4
            services:
              - data
          - group: group2
            diskSize: 10
            nodeCount: 5
            nodeType: n1-standard-4
            services:
              - query
              - index
              - fts
      - cluster: cluster2
        region: us-central1
        groups:
          - group: group1
            diskSize: 100
            nodeCount: 5
            nodeType: n1-standard-4
            services:
              - data
              - query
              - index
              - fts

outputs:
- name: cluster1-dataGroupAdminUrl
  value: http://$(ref.deployment.externalIp-cluster1-group1):8091/
- name: cluster1-queryGroupAdminUrl
  value: http://$(ref.deployment.externalIp-cluster1-group2):8091/
- name: cluster2-adminUrl
  value: http://$(ref.deployment.externalIp-cluster2-group1):8091/
